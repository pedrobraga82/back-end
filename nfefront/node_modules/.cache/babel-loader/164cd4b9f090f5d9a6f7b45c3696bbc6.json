{"ast":null,"code":"var _jsxFileName = \"/home/pedrobraga/Projetos/nfefront/src/Components/User/UserList.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from 'react';\nimport Header from '../Header';\nimport axios from 'axios';\nimport Table from 'react-bootstrap/Table';\nimport Button from 'react-bootstrap/Button';\nimport Modal from 'react-modal';\nimport { Redirect } from 'react-router-dom';\nimport { useHistory } from 'react-router-dom';\nimport { useParams } from 'react-router-dom';\nimport TextField from '@material-ui/core/TextField';\nimport AttachFileIcon from '@material-ui/icons/AttachFile';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function UserList() {\n  _s();\n\n  const {\n    useState\n  } = React;\n  const history = useHistory();\n  const [columns, setColumns] = useState([{\n    title: 'id',\n    field: 'id'\n  }, {\n    title: 'arquivo',\n    field: 'arquivo'\n  }, {\n    title: 'cnpj',\n    field: 'cnpj'\n  }, {\n    title: 'endereco',\n    field: 'endereco'\n  }, {\n    title: 'ie',\n    field: 'ie',\n    width: 130\n  }, {\n    title: 'password',\n    field: 'password'\n  }, {\n    title: 'role',\n    field: 'role'\n  }, {\n    title: 'salt',\n    field: 'salt'\n  }, {\n    title: 'token',\n    field: 'token'\n  }, {\n    title: 'empresa',\n    field: 'empresa'\n  }]);\n  const [users, SetUsers] = useState(\"\");\n  const [arquivo, SetArquivo] = useState(undefined);\n\n  function EditUser(e) {\n    const cnpj = e.target.value;\n    const user = users.filter(e => {\n      //alert(ie)  \n      return e.cnpj === cnpj;\n    });\n    history.push(`/edituser/${JSON.stringify(user[0].id)}`);\n  }\n\n  function CadCert(e) {\n    e.preventDefault();\n    const cnpj = e.target.name;\n    const user = users.filter(e => {\n      return e.cnpj === cnpj;\n    });\n    let formData = new FormData();\n    formData.append(\"file\", e.target.files[0], cnpj);\n    formData.append(\"id\", user[0].id);\n    let url = `https://nfeview.herokuapp.com:8443/api/caduser/file/${user[0].id}`;\n    fetch(url, {\n      method: 'POST',\n      body: formData\n    }).then( //response => response.json();\n    alert('')).then(result => console.log('Files successfully uploaded!')).catch(error => console.log('error occurred!'));\n  }\n\n  function Dados() {\n    {\n      return users.map(result => {\n        return /*#__PURE__*/_jsxDEV(\"tr\", {\n          children: [/*#__PURE__*/_jsxDEV(\"td\", {\n            children: [result.username, \" \"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 88,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            children: [result.empresa, \" \"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 89,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            children: [\" \", result.cnpj, \" \"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 90,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            children: [\" \", result.ie]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 91,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            children: /*#__PURE__*/_jsxDEV(Button, {\n              variant: \"secondary\",\n              value: result.cnpj,\n              size: \"sm\",\n              onClick: EditUser,\n              children: \"Editar\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 93,\n              columnNumber: 13\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 92,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            children: /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"file\",\n              id: \"botao\",\n              name: result.cnpj,\n              size: \"sm\",\n              onChange: CadCert\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 101,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 100,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 10\n        }, this);\n      });\n    }\n  }\n\n  useEffect(() => {\n    let url = 'https://nfeview.herokuapp.com:8443/api/userslist';\n    axios.get(url).then(response => {\n      let data = response.data;\n      let dados = [{}];\n      data.forEach(obj => {\n        dados.push(obj);\n      });\n      SetUsers(dados);\n    }).catch(err => {\n      alert(\"Erro ao listar usuários \" + err);\n    });\n    return () => {//cleanup\n    };\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: styles.center,\n    children: [/*#__PURE__*/_jsxDEV(Header, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 152,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 153,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 154,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 155,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Table, {\n      striped: true,\n      bordered: true,\n      hover: true,\n      variant: \"dark\",\n      children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n        children: /*#__PURE__*/_jsxDEV(\"tr\", {\n          children: [/*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"Username\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 160,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"Empresa\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 161,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"CNPJ\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 162,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"IE\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 163,\n            columnNumber: 11\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 159,\n          columnNumber: 9\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 158,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n        children: users && Dados()\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 166,\n        columnNumber: 7\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 157,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 151,\n    columnNumber: 5\n  }, this);\n}\n\n_s(UserList, \"RJT2MFAXgwhJ8BRgxLnDcNGnX08=\", false, function () {\n  return [useHistory];\n});\n\n_c = UserList;\nconst styles = {\n  center: {\n    //margin: 'auto',\n    width: '90%',\n    border: '3px solid green' //  padding: '10px'\n\n  }\n};\n\nvar _c;\n\n$RefreshReg$(_c, \"UserList\");","map":{"version":3,"sources":["/home/pedrobraga/Projetos/nfefront/src/Components/User/UserList.js"],"names":["React","useState","useEffect","Header","axios","Table","Button","Modal","Redirect","useHistory","useParams","TextField","AttachFileIcon","UserList","history","columns","setColumns","title","field","width","users","SetUsers","arquivo","SetArquivo","undefined","EditUser","e","cnpj","target","value","user","filter","push","JSON","stringify","id","CadCert","preventDefault","name","formData","FormData","append","files","url","fetch","method","body","then","alert","result","console","log","catch","error","Dados","map","username","empresa","ie","get","response","data","dados","forEach","obj","err","styles","center","border"],"mappings":"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","sourcesContent":["import React,{useState,useEffect} from 'react';\nimport Header from '../Header';\nimport axios from 'axios';\nimport Table from 'react-bootstrap/Table'\nimport Button from 'react-bootstrap/Button'\nimport Modal from 'react-modal';\nimport { Redirect } from 'react-router-dom'\nimport { useHistory } from 'react-router-dom';\nimport { useParams } from 'react-router-dom';\nimport TextField from '@material-ui/core/TextField';\nimport AttachFileIcon from '@material-ui/icons/AttachFile';\n\nexport default function UserList() {\n  const { useState } = React;\n  const history = useHistory();\n\n  \n\n  const [columns, setColumns] = useState([\n    { title: 'id', field: 'id' },\n    { title: 'arquivo', field: 'arquivo'},\n    { title: 'cnpj', field: 'cnpj' },\n    { title: 'endereco', field: 'endereco'},\n    { title: 'ie', field: 'ie', width: 130 },\n    { title: 'password', field: 'password' },\n    { title: 'role', field: 'role'},\n    { title: 'salt', field: 'salt'},\n    { title: 'token', field: 'token' },\n    { title: 'empresa', field: 'empresa' }\n    \n  ]);\n\n  const [users,SetUsers] = useState(\"\");\n  const [arquivo,SetArquivo] = useState(undefined);\n\n\n  function EditUser(e) {\n\n      const cnpj = e.target.value;\n      const user = users.filter((e) => {\n        //alert(ie)  \n        return e.cnpj === cnpj\n      });\n\n      history.push(`/edituser/${JSON.stringify(user[0].id)}`) \n\n  } \n\n  function CadCert(e) {\n\n    e.preventDefault()\n\n    \n    const cnpj = e.target.name;\n      \n    const user = users.filter((e) => {\n          \n          return e.cnpj === cnpj\n        });\n\n        let formData = new FormData();\n        formData.append(\"file\",e.target.files[0],cnpj)\n        formData.append(\"id\",user[0].id);\n    let url =  `https://nfeview.herokuapp.com:8443/api/caduser/file/${user[0].id}`\n        fetch(url, { \n            method: 'POST',\n            body: formData\n          }).then(\n              //response => response.json();\n              alert('')\n              )\n          .then(result => console.log('Files successfully uploaded!'))\n          .catch(error => console.log('error occurred!')); \n        \n\n\n\n  }\n\n\n   function Dados() {\n\n    {  \n       return users.map((result) =>  {\n\n        return(\n         <tr>\n            <td>{result.username} </td>\n            <td>{result.empresa} </td> \n            <td> {result.cnpj} </td> \n            <td> {result.ie}</td> \n            <td>\n            <Button variant=\"secondary\" value={result.cnpj} size=\"sm\" onClick={EditUser}>\n              Editar\n           </Button>\n           </td>\n{/*           <TextField variant=\"outlined\" type=\"file\" label=\"Arquivo\" \n               margin=\"dense\" name=\"arquivo\" value={arquivo}                        \n                 onChange={CadCert}/>  */} \n            <td>\n              <input type=\"file\" id =\"botao\" name={result.cnpj} size=\"sm\"  onChange={CadCert}>\n              </input>\n              </td>     \n\n\n\n           \n         </tr> ) \n       \n\n     })\n\n }\n\n\n\n   }\n\n  useEffect(() => {\n\n\n        let url =  'https://nfeview.herokuapp.com:8443/api/userslist' \n\n        axios.get(url)\n      .then((response) => {    \n            let data = response.data;\n            let dados = [{}]\n\n\n          data.forEach(obj => {\n            dados.push(obj)\n          })\n\n          SetUsers(dados);\n            \n              })\n        .catch((err) => {\n            alert(\"Erro ao listar usuários \" + err)\n        })  \n        \n\n\n        return () => {\n            //cleanup\n        }\n    }, [])\n\n\n  return (\n\n    <div style={styles.center}>\n      <Header />\n      <br></br>\n      <br></br>\n      <br></br>\n      \n      <Table striped bordered hover variant=\"dark\" >\n      <thead>\n        <tr>\n          <th>Username</th>\n          <th>Empresa</th>\n          <th>CNPJ</th>\n          <th>IE</th>  \n        </tr>\n      </thead>\n      <tbody>\n\n        {users && Dados()}\n     </tbody> \n\n    </Table>\n\n\n\n  </div>\n\n\n  )\n}\n\n\n\nconst styles= {\n  center: {\n    //margin: 'auto',\n    width: '90%',\n    border: '3px solid green',\n  //  padding: '10px'\n  }\n  \n  \n}"]},"metadata":{},"sourceType":"module"}