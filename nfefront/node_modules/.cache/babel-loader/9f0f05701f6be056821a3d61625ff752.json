{"ast":null,"code":"import _defineProperty from\"/home/pedrobraga/Projetos/nfefront/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _slicedToArray from\"/home/pedrobraga/Projetos/nfefront/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from'react';import FormGroup from'@material-ui/core/FormGroup';import TextField from'@material-ui/core/TextField';import Button from'@material-ui/core/Button';import Typography from'@material-ui/core/Typography';import Container from'@material-ui/core/Container';import Header from'../Header';import{useParams}from'react-router-dom';import queryString from'query-string';import axios from'axios';import{useHistory}from\"react-router-dom\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function UserEdit(user){var history=useHistory();var params=useParams();var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),id=_useState2[0],SetId=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),empresa=_useState4[0],SetEmpresa=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),password=_useState6[0],SetPassword=_useState6[1];var _useState7=useState(\"\"),_useState8=_slicedToArray(_useState7,2),cnpj=_useState8[0],SetCnpj=_useState8[1];var _useState9=useState(\"\"),_useState10=_slicedToArray(_useState9,2),ie=_useState10[0],SetIe=_useState10[1];var _useState11=useState(\"\"),_useState12=_slicedToArray(_useState11,2),endereco=_useState12[0],SetEndereco=_useState12[1];var _useState13=useState(\"USER\"),_useState14=_slicedToArray(_useState13,2),role=_useState14[0],SetRole=_useState14[1];var _useState15=useState(\"\"),_useState16=_slicedToArray(_useState15,2),senhacert=_useState16[0],SetSenhaCert=_useState16[1];var _useState17=useState(\"\"),_useState18=_slicedToArray(_useState17,2),username=_useState18[0],SetUsername=_useState18[1];var _useState19=useState(null),_useState20=_slicedToArray(_useState19,2),usuario=_useState20[0],SetUsuario=_useState20[1];var formData=new FormData();useEffect(function(){SetId(params.id);var url=\"/api/getuser/\".concat(params.id);axios.get(url,{params:{ID:params.id}}).then(function(response){SetEmpresa(response.data.empresa);SetUsername(response.data.username);SetCnpj(response.data.cnpj);SetEndereco(response.data.endereco);//    SetPassword(response.data.password)\nSetRole(response.data.role);SetIe(response.data.ie);SetSenhaCert(response.data.senhacertificado);}).catch(function(err){alert(\"Erro ao listar usuários \"+err);});return function(){// cleanup\n};},[]);var onChange=function onChange(e){e.preventDefault();switch(e.target.name){case\"empresa\":SetEmpresa(e.target.value);break;case\"password\":SetPassword(e.target.value);break;case\"cnpj\":SetCnpj(e.target.value);break;case\"ie\":SetIe(e.target.value);break;case\"endereco\":SetEndereco(e.target.value);break;case\"senhacert\":SetSenhaCert(e.target.value);break;default:break;}};var onClick=function onClick(e){var _user;var user=(_user={empresa:empresa,password:password,role:role,cnpj:cnpj},_defineProperty(_user,\"password\",password),_defineProperty(_user,\"ie\",ie),_defineProperty(_user,\"endereco\",endereco),_defineProperty(_user,\"username\",\"admin40\"),_defineProperty(_user,\"senhacertificado\",senhacert),_user);var url=\"/api/updateuser/\".concat(id);//+  this.state.username +  '&password=' \n//+ base64.encode(utf8.encode(this.state.password))    \naxios.put(url,user).then(function(response){history.push(\"/listusers\");}).catch(function(err){alert(\"Erro ao cadastrar usuário \"+err);});};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Header,{}),/*#__PURE__*/_jsx(React.Fragment,{children:/*#__PURE__*/_jsxs(Container,{maxWidth:\"xs\",children:[/*#__PURE__*/_jsx(Typography,{variant:\"h4\",style:styles.center,children:\"Cadastro de Usu\\xE1rios\"}),/*#__PURE__*/_jsxs(\"form\",{children:[/*#__PURE__*/_jsx(TextField,{variant:\"outlined\",type:\"text\",label:\"Empresa\",fullWidth:true,margin:\"normal\",name:\"empresa\",value:empresa,onChange:onChange}),/*#__PURE__*/_jsx(TextField,{variant:\"outlined\",type:\"password\",label:\"PASSWORD\",fullWidth:true,margin:\"normal\",name:\"password\",value:password,onChange:onChange}),/*#__PURE__*/_jsx(TextField,{variant:\"outlined\",type:\"text\",label:\"CNPJ\",fullWidth:true,margin:\"normal\",name:\"cnpj\",value:cnpj,onChange:onChange}),/*#__PURE__*/_jsx(TextField,{variant:\"outlined\",type:\"text\",label:\"IE\",fullWidth:true,margin:\"normal\",name:\"ie\",value:ie,onChange:onChange}),/*#__PURE__*/_jsx(TextField,{variant:\"outlined\",type:\"text\",label:\"Endere\\xE7o\",fullWidth:true,margin:\"normal\",name:\"endereco\",value:endereco,onChange:onChange}),/*#__PURE__*/_jsx(TextField,{variant:\"outlined\",type:\"text\",label:\"Senha Certificado\",fullWidth:true,margin:\"dense\",name:\"senhacert\",value:senhacert,onChange:onChange}),/*#__PURE__*/_jsx(Button,{variant:\"contained\",color:\"secondary\",onClick:onClick,children:\"Cadastrar\"})]})]})})]});}var styles={center:{display:'flex',justifyContent:'center'},notification:{display:'flex',justifyContent:'center',color:'#dc3545'}};","map":{"version":3,"sources":["/home/pedrobraga/Projetos/nfefront/src/Components/User/UserEdit.js"],"names":["React","useState","useEffect","FormGroup","TextField","Button","Typography","Container","Header","useParams","queryString","axios","useHistory","UserEdit","user","history","params","id","SetId","empresa","SetEmpresa","password","SetPassword","cnpj","SetCnpj","ie","SetIe","endereco","SetEndereco","role","SetRole","senhacert","SetSenhaCert","username","SetUsername","usuario","SetUsuario","formData","FormData","url","get","ID","then","response","data","senhacertificado","catch","err","alert","onChange","e","preventDefault","target","name","value","onClick","put","push","styles","center","display","justifyContent","notification","color"],"mappings":"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","sourcesContent":["import React, {useState, useEffect} from 'react';\nimport FormGroup from '@material-ui/core/FormGroup';\nimport TextField from '@material-ui/core/TextField';\nimport Button from '@material-ui/core/Button';\nimport Typography from '@material-ui/core/Typography';\nimport Container from '@material-ui/core/Container';\nimport Header from '../Header';\nimport { useParams } from 'react-router-dom';\nimport queryString from 'query-string';\nimport axios from 'axios';\nimport { useHistory } from \"react-router-dom\";\n\n\n\nexport default function UserEdit(user) {\n\n    let history = useHistory();\n\n\n    const params = useParams();\n    const [id,SetId] = useState(\"\");\n\n    const [empresa,SetEmpresa] = useState(\"\");\n    const [password,SetPassword] = useState(\"\");\n    const [cnpj,SetCnpj] = useState(\"\");\n    const [ie,SetIe] = useState(\"\");\n    const [endereco,SetEndereco] = useState(\"\");\n    const [role,SetRole] = useState(\"USER\");\n    const [senhacert,SetSenhaCert] = useState(\"\");\n    const [username,SetUsername] = useState(\"\");\n    const [usuario,SetUsuario] = useState(null);\n    let formData = new FormData();\n\n    useEffect(() => {\n        \n        SetId(params.id)\n        let url = `/api/getuser/${params.id}`\n        axios.get(url, {\n            params: {\n              ID: params.id\n            }\n          })\n          .then(function (response) {\n       \n\n\n            SetEmpresa(response.data.empresa)\n            SetUsername(response.data.username)\n            SetCnpj(response.data.cnpj)\n            SetEndereco(response.data.endereco)\n        //    SetPassword(response.data.password)\n            SetRole(response.data.role)\n            SetIe(response.data.ie)\n            SetSenhaCert(response.data.senhacertificado)\n\n        })\n        .catch((err) => {\n            alert(\"Erro ao listar usuários \" + err)\n        })    \n       \n\n        \n        return () => {\n           // cleanup\n        }\n    }, [])\n\n\n    const onChange = (e) => {\n\n        e.preventDefault();\n\n        switch(e.target.name) {\n\n            case \"empresa\":\n                SetEmpresa(e.target.value)\n                break;\n            case \"password\":\n                SetPassword(e.target.value)\n                break;\n            case \"cnpj\":\n                SetCnpj(e.target.value)\n                break;\n            case \"ie\":\n               SetIe(e.target.value)\n                  break;              \n            case \"endereco\":\n               SetEndereco(e.target.value)\n                break;     \n            case \"senhacert\":\n                    SetSenhaCert(e.target.value)   \n                    break;   \n                         \n            default:\n                break;\n        }\n\n\n\n    }\n\n\n    const onClick = (e) => {\n\n\n         let user = {\n            empresa,\n            password,\n            role,\n            cnpj,\n            password,\n            ie,\n            endereco,\n            username:\"admin40\",\n            senhacertificado: senhacert\n        }\n\n        let url =  `/api/updateuser/${id}` \n          //+  this.state.username +  '&password=' \n          //+ base64.encode(utf8.encode(this.state.password))    \n\n        \n          axios.put(url,user)\n           .then((response) => {    \n\n                history.push(\"/listusers\");\n            })\n            .catch((err) => {\n\n                alert(\"Erro ao cadastrar usuário \" + err)\n            }) \n\n\n\n\n    }\n\n    return (\n        <div>\n            <Header />\n\n            <React.Fragment>\n  \n                <Container maxWidth=\"xs\">\n                    <Typography variant=\"h4\" style={styles.center}>Cadastro de Usuários</Typography>\n                    <form>\n                        <TextField variant=\"outlined\" type=\"text\" label=\"Empresa\" fullWidth margin=\"normal\" name=\"empresa\" value={empresa} onChange={onChange}/>\n\n                        <TextField variant=\"outlined\" type=\"password\" label=\"PASSWORD\" fullWidth margin=\"normal\" name=\"password\" value={password} onChange={onChange}/>\n                        <TextField variant=\"outlined\" type=\"text\" label=\"CNPJ\" fullWidth margin=\"normal\" name=\"cnpj\" value={cnpj} onChange={onChange}/>\n                        <TextField variant=\"outlined\" type=\"text\" label=\"IE\" fullWidth margin=\"normal\" name=\"ie\" value={ie} onChange={onChange}/>\n                        <TextField variant=\"outlined\" type=\"text\" label=\"Endereço\" fullWidth margin=\"normal\" name=\"endereco\" value={endereco} onChange={onChange}/>\n                        <TextField variant=\"outlined\" type=\"text\" label=\"Senha Certificado\" fullWidth margin=\"dense\" name=\"senhacert\" value={senhacert} onChange={onChange}/>\n\n \n                        <Button variant=\"contained\" color=\"secondary\" onClick={onClick}>Cadastrar</Button>\n             \n                    </form>\n                </Container>\n            </React.Fragment>\n  \n        \n        </div>\n    )\n}\n\n\nconst styles= {\n    center :{\n        display: 'flex',\n        justifyContent: 'center'\n\n    },\n    notification: {\n        display: 'flex',\n        justifyContent: 'center',\n        color: '#dc3545'\n    }\n}\n"]},"metadata":{},"sourceType":"module"}